<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="">
    </head>
    <body>
       
        <h1>Real Estate Guesser</h1>

        <p>Debugging Mode v0.0.1</p>
        
        <h2>Join a Private Game:</h2>
        <label>game code: </label>
        <input id="gameCodeInput">
        <p></p>
        <button onclick="joinGameWithCode()">Join</button>


        <h2>Create a Private Game:</h2>
        <!-- <label>password:</label>
        <input id="gameCodeInput">
        <p></p>
        <label>max users:</label>
        <input id="gameCodeInput">
        <p></p> -->
        <button onclick="createNewGame()">Create Game</button>


        <script >

            async function createNewGame()
            {
                //var username = document.getElementById("usernameInput").value; 
                await fetch("/createRoom            ", {
                    method:"POST", 
                    headers: {
                        'Content-Type': 'application/json',
                        },
                    body: JSON.stringify({
                    })
                }).then(res => res.json())
                .then(data => {
                    console.log(data)
                    if(data.error)
                    {
                        console.log(data.msg);
                        return;
                    }
                    window.location.href = `/game/${data.roomId}`
                    }
                )
            }

            async function joinGameWithCode()
            {
                var idCode = document.getElementById("gameCodeInput").value;
                //var username = document.getElementById("usernameInput").value; 
                await fetch("/joinGame", {
                    method:"POST",
                    body: JSON.stringify({
                        roomId: idCode,
                    }),
                    headers: {
                        'Content-Type': 'application/json',
                        },
                })
            }

        </script>
    </body>
</html>